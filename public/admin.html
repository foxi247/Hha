<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#1a1a2e" />
  <title>Admin Panel ‚Äî –•–∞–ª–∞—á–∏ –ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ v2</title>
  <link rel="stylesheet" href="/css/admin.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
</head>
<body>
  <div class="admin-layout">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <a href="/" class="logo" target="_blank">
          <span>üè®</span>
          <span>–•–∞–ª–∞<span>—á–∏</span></span>
        </a>
        <span class="admin-badge">Admin v2</span>
      </div>
      
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" data-section="dashboard">
          <span class="nav-icon">üìä</span>
          <span>–î–∞—à–±–æ—Ä–¥</span>
        </a>
        <a href="#" class="nav-item" data-section="hotel">
          <span class="nav-icon">üè®</span>
          <span>–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞</span>
        </a>
        <a href="#" class="nav-item" data-section="rooms">
          <span class="nav-icon">üõèÔ∏è</span>
          <span>–ù–æ–º–µ—Ä–∞</span>
        </a>
        <a href="#" class="nav-item" data-section="tours">
          <span class="nav-icon">üó∫Ô∏è</span>
          <span>–¢—É—Ä—ã</span>
        </a>
        <a href="#" class="nav-item" data-section="categories">
          <span class="nav-icon">üìÇ</span>
          <span>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
        </a>
        <a href="#" class="nav-item" data-section="reviews">
          <span class="nav-icon">‚≠ê</span>
          <span>–û—Ç–∑—ã–≤—ã</span>
        </a>
        <a href="#" class="nav-item" data-section="bookings">
          <span class="nav-icon">üìù</span>
          <span>–ó–∞—è–≤–∫–∏</span>
        </a>
        <a href="#" class="nav-item" data-section="guests">
          <span class="nav-icon">üë•</span>
          <span>–ì–æ—Å—Ç–∏</span>
        </a>
        <a href="#" class="nav-item" data-section="chessboard">
          <span class="nav-icon">üèÅ</span>
          <span>–®–∞—Ö–º–∞—Ç–∫–∞</span>
        </a>
        <a href="#" class="nav-item" data-section="notes">
          <span class="nav-icon">üìù</span>
          <span>–ó–∞–º–µ—Ç–∫–∏</span>
        </a>
        <a href="#" class="nav-item" data-section="analytics">
          <span class="nav-icon">üìà</span>
          <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
        </a>
        <a href="#" class="nav-item" data-section="settings">
          <span class="nav-icon">‚öôÔ∏è</span>
          <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </a>
      </nav>
      
      <div class="sidebar-footer">
        <button class="nav-item" id="logoutBtn">
          <span class="nav-icon">üö™</span>
          <span>–í—ã–π—Ç–∏</span>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
      <header class="admin-header">
        <button class="menu-toggle" id="menuToggle">‚ò∞</button>
        <h1 class="page-title">–î–∞—à–±–æ—Ä–¥</h1>
        <div class="admin-actions">
          <button class="btn btn-secondary" onclick="exportData()" title="–í—ã–≥—Ä—É–∑–∏—Ç—å">üì•</button>
          <span class="current-time" id="currentTime"></span>
          <div class="admin-user">
            <span class="user-avatar">üë§</span>
            <span>Admin</span>
          </div>
        </div>
      </header>

      <!-- Dashboard Section -->
      <section class="admin-section active" id="dashboard">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üõèÔ∏è</div>
            <div class="stat-info">
              <span class="stat-value" id="totalRooms">-</span>
              <span class="stat-label">–ù–æ–º–µ—Ä–æ–≤</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üó∫Ô∏è</div>
            <div class="stat-info">
              <span class="stat-value" id="totalTours">-</span>
              <span class="stat-label">–¢—É—Ä–æ–≤</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
              <span class="stat-value" id="totalGuests">-</span>
              <span class="stat-label">–ì–æ—Å—Ç–µ–π</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚≠ê</div>
            <div class="stat-info">
              <span class="stat-value" id="avgRating">-</span>
              <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥</span>
            </div>
          </div>
        </div>
        
        <div class="dashboard-grid">
          <div class="dashboard-card">
            <h3>üìù –ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞—è–≤–∫–∏</h3>
            <div class="recent-list" id="recentBookings">
              <p style="color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
          </div>
          <div class="dashboard-card">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div class="stats-mini">
              <div class="stat-mini-item">
                <span>üëÅÔ∏è –í–∏–∑–∏—Ç—ã —Å–µ–≥–æ–¥–Ω—è</span>
                <span id="todayViews">-</span>
              </div>
              <div class="stat-mini-item">
                <span>üìÖ –ó–∞—è–≤–æ–∫</span>
                <span id="todayBookings">-</span>
              </div>
              <div class="stat-mini-item">
                <span>üõèÔ∏è –°–µ–π—á–∞—Å –∂–∏–≤—É—Ç</span>
                <span id="nowHoused">-</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Notes Section -->
      <section class="admin-section" id="notes">
        <div class="section-header">
          <h2>üìù –ó–∞–º–µ—Ç–∫–∏ –∏ –∑–∞–¥–∞—á–∏</h2>
          <button class="btn btn-primary" onclick="openNoteModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        
        <div class="notes-grid" id="notesGrid">
          <p style="color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
      </section>

      <!-- Analytics Section -->
      <section class="admin-section" id="analytics">
        <div class="section-header">
          <h2>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
          <button class="btn btn-secondary" onclick="refreshAnalytics()">üîÑ</button>
        </div>
        
        <div class="analytics-stats">
          <div class="stat-card">
            <div class="stat-icon">üëÅÔ∏è</div>
            <div class="stat-info">
              <span class="stat-value" id="analyticsViews">0</span>
              <span class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìù</div>
            <div class="stat-info">
              <span class="stat-value" id="analyticsBookings">0</span>
              <span class="stat-label">–ó–∞—è–≤–æ–∫</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
              <span class="stat-value" id="analyticsVisitors">0</span>
              <span class="stat-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Hotel Section -->
      <section class="admin-section" id="hotel">
        <div class="section-header">
          <h2>üè® –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Å—Ç–∏–Ω–∏—Ü–µ</h2>
          <button class="btn btn-primary" id="saveHotelBtn" onclick="saveHotelDirect()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
        
        <form class="admin-form" id="hotelForm">
          <div class="form-grid">
            <div class="form-group">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
              <input type="text" name="name" />
            </div>
            <div class="form-group">
              <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
              <input type="tel" name="phone" />
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" name="email" />
            </div>
            <div class="form-group">
              <label>–ê–¥—Ä–µ—Å</label>
              <input type="text" name="address" />
            </div>
            
            <div class="form-group full-width">
              <label>–ì–ª–∞–≤–Ω–æ–µ —Ñ–æ—Ç–æ (hero)</label>
              <input type="hidden" name="hero_image" id="heroImageInput" />
              <div class="image-upload-area" id="heroImageArea" onclick="document.getElementById('heroImageFile').click()" 
                   style="border: 2px dashed var(--gray-lighter); border-radius: 8px; padding: 20px; text-align: center; cursor: pointer;">
                <div id="heroImagePreview">
                  <span style="font-size: 32px;">üè®</span>
                  <p style="color: var(--gray); margin-top: 8px;">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ</p>
                </div>
              </div>
              <input type="file" id="heroImageFile" accept="image/*" style="display: none;" />
            </div>
            
            <div class="form-group full-width">
              <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea name="description" rows="4"></textarea>
            </div>
            <div class="form-group full-width">
              <label>–û –≥–æ—Å—Ç–∏–Ω–∏—Ü–µ</label>
              <textarea name="about" rows="6"></textarea>
            </div>
          </div>
        </form>
      </section>

      <!-- Rooms Section -->
      <section class="admin-section" id="rooms">
        <div class="section-header">
          <h2>üõèÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞–º–∏</h2>
          <div class="header-btns">
            <button class="btn btn-secondary" onclick="exportData()">üì•</button>
            <button class="btn btn-primary" id="addRoomBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä</button>
          </div>
        </div>
        
        <div class="rooms-list" id="roomsList">
          <div style="color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </section>

      <!-- Tours Section -->
      <section class="admin-section" id="tours">
        <div class="section-header">
          <h2>üó∫Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–∞–º–∏</h2>
          <div class="header-btns">
            <button class="btn btn-secondary" onclick="exportData()">üì•</button>
            <button class="btn btn-primary" id="addTourBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—É—Ä</button>
          </div>
        </div>
        
        <div class="tours-list" id="toursList">
          <div style="color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </section>

      <!-- Categories Section -->
      <section class="admin-section" id="categories">
        <div class="section-header">
          <h2>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
          <button class="btn btn-primary" onclick="openCategoryModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        
        <div class="categories-list" id="categoriesList">
          <div style="color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </section>

      <!-- Reviews Section -->
      <section class="admin-section" id="reviews">
        <div class="section-header">
          <h2>‚≠ê –û—Ç–∑—ã–≤—ã</h2>
          <button class="btn btn-secondary" onclick="renderReviews()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>–ò–º—è</th>
                <th>–û—Ü–µ–Ω–∫–∞</th>
                <th>–û—Ç–∑—ã–≤</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="reviewsTableBody">
              <tr><td colspan="5" style="text-align: center; color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Bookings Section -->
      <section class="admin-section" id="bookings">
        <div class="section-header">
          <h2>üìù –ó–∞—è–≤–∫–∏ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
          <button class="btn btn-secondary" id="refreshBookings">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>–ò–º—è</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–¢–∏–ø/–ì–æ—Å—Ç–∏</th>
                <th>–î–∞—Ç—ã</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
              </tr>
            </thead>
            <tbody id="bookingsTableBody">
              <tr><td colspan="6" style="text-align: center; color: var(--gray);">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Guests Section -->
      <section class="admin-section" id="guests">
        <div class="section-header">
          <h2>üë• –£—á—ë—Ç –≥–æ—Å—Ç–µ–π</h2>
          <div class="header-btns">
            <button class="btn btn-secondary" onclick="exportGuests()">üì•</button>
            <button class="btn btn-primary" id="addGuestBtn">‚ûï –ó–∞—Å–µ–ª–∏—Ç—å –≥–æ—Å—Ç—è</button>
          </div>
        </div>
        
        <div class="stats-row" style="margin-bottom: 20px; display: flex; gap: 20px; flex-wrap: wrap;">
          <div class="stat-badge" style="background: #dcfce7; color: #166534; padding: 8px 16px; border-radius: 8px;">
            <span id="statTotalGuests">0</span> –í—Å–µ–≥–æ
          </div>
          <div class="stat-badge" style="background: #dbeafe; color: #1e40af; padding: 8px 16px; border-radius: 8px;">
            <span id="statCurrentlyHoused">0</span> –°–µ–π—á–∞—Å –∂–∏–≤—É—Ç
          </div>
          <div class="stat-badge" style="background: #fef3c7; color: #92400e; padding: 8px 16px; border-radius: 8px;">
            <span id="statTodayCheckins">0</span> –ó–∞–µ–∑–¥—ã —Å–µ–≥–æ–¥–Ω—è
          </div>
        </div>
        
        <div class="filter-bar">
          <input type="text" placeholder="–ü–æ–∏—Å–∫..." class="search-input" id="guestSearch" />
          <select id="guestStatusFilter">
            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option value="checked_in">–ñ–∏–≤—É—Ç</option>
            <option value="checked_out">–í—ã—Å–µ–ª–µ–Ω—ã</option>
          </select>
        </div>
        
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>–§–ò–û</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–ù–æ–º–µ—Ä</th>
                <th>–ó–∞–µ–∑–¥</th>
                <th>–í—ã–µ–∑–¥</th>
                <th>–ì–æ—Å—Ç–µ–π</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="guestsTableBody"></tbody>
          </table>
        </div>
      </section>

      <!-- Chessboard Section -->
      <section class="admin-section" id="chessboard">
        <div class="section-header">
          <h2>üèÅ –®–∞—Ö–º–∞—Ç–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h2>
          <div class="header-btns">
            <select id="chessboardMonth" style="padding: 8px 12px; border: 1px solid #e5e7eb; border-radius: 6px;">
              <option value="0">–Ø–Ω–≤–∞—Ä—å 2026</option>
              <option value="1">–§–µ–≤—Ä–∞–ª—å 2026</option>
              <option value="2">–ú–∞—Ä—Ç 2026</option>
            </select>
          </div>
        </div>
        
        <div class="chessboard-container" id="chessboardContainer">
          <div style="color: var(--gray); text-align: center; padding: 40px;">
            –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞—Ö–º–∞—Ç–∫–∏...
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section class="admin-section" id="settings">
        <div class="section-header">
          <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        </div>
        
        <div class="settings-grid">
          <div class="settings-card">
            <h3>üìä –°—á—ë—Ç—á–∏–∫ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π</h3>
            <div class="form-group">
              <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
              <input type="number" name="visitor_count" />
            </div>
            <button class="btn btn-primary" onclick="saveVisitorCount()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
          
          <div class="settings-card">
            <h3>üîê –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
            <div class="form-group">
              <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
              <input type="password" name="admin_password" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å" />
            </div>
            <button class="btn btn-primary" onclick="changePassword()">–ò–∑–º–µ–Ω–∏—Ç—å</button>
          </div>
          
          <div class="settings-card">
            <h3>üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p style="color: var(--gray); margin-bottom: 16px;">–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</p>
            <button class="btn btn-secondary" onclick="exportData()">üì• –°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals -->
  <!-- Room Modal -->
  <div class="modal" id="roomModal">
    <div class="modal-content" style="max-width: 700px;">
      <div class="modal-header">
        <h3 id="roomModalTitle">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä</h3>
        <button class="modal-close" onclick="closeRoomModal()">&times;</button>
      </div>
      <form class="modal-form" id="roomForm">
        <input type="hidden" name="id" />
        <input type="hidden" name="popular" value="0" />
        <input type="hidden" name="sort_order" value="0" />
        
        <div class="form-grid">
          <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
            <input type="text" name="name" required placeholder="–°—Ç–∞–Ω–¥–∞—Ä—Ç" />
          </div>
          <div class="form-group">
            <label>–¶–µ–Ω–∞ –æ—Ç (‚ÇΩ) *</label>
            <input type="number" name="price_from" required placeholder="3500" />
          </div>
          <div class="form-group full-width">
            <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
            <textarea name="description" rows="3"></textarea>
          </div>
          <div class="form-group">
            <label>–†–∞–∑–º–µ—Ä (–º¬≤)</label>
            <input type="text" name="size" placeholder="22 –º¬≤" />
          </div>
          <div class="form-group">
            <label>–ö—Ä–æ–≤–∞—Ç–∏</label>
            <input type="text" name="beds" placeholder="1 –¥–≤—É—Å–ø–∞–ª—å–Ω–∞—è –∏–ª–∏ 2 –æ–¥–Ω–æ—Å–ø–∞–ª—å–Ω—ã–µ" />
          </div>
          <div class="form-group">
            <label>–ú–∞–∫—Å. –≥–æ—Å—Ç–µ–π</label>
            <input type="number" name="max_guests" value="2" min="1" />
          </div>
          <div class="form-group full-width">
            <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
            <div class="image-upload-area" id="roomImagesArea" onclick="document.getElementById('roomImages').click()">
              <div id="roomImagePreview"></div>
              <span style="font-size: 24px;">üì∑</span>
              <p>–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ</p>
            </div>
            <input type="file" id="roomImages" multiple accept="image/*" style="display: none;" />
          </div>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeRoomModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Tour Modal -->
  <div class="modal" id="tourModal">
    <div class="modal-content" style="max-width: 700px;">
      <div class="modal-header">
        <h3 id="tourModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ç—É—Ä</h3>
        <button class="modal-close" onclick="closeTourModal()">&times;</button>
      </div>
      <form class="modal-form" id="tourForm">
        <input type="hidden" name="id" />
        <input type="hidden" name="featured" value="0" />
        <input type="hidden" name="sort_order" value="0" />
        
        <div class="form-grid">
          <div class="form-group full-width">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
            <input type="text" name="title" required placeholder="–û–±–∑–æ—Ä–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è" />
          </div>
          <div class="form-group full-width">
            <label>–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>
            <input type="text" name="short_desc" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏" />
          </div>
          <div class="form-group">
            <label>–¶–µ–Ω–∞ (‚ÇΩ) *</label>
            <input type="number" name="price" required placeholder="2500" />
          </div>
          <div class="form-group">
            <label>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
            <input type="text" name="duration" placeholder="3 —á–∞—Å–∞" />
          </div>
          <div class="form-group">
            <label>–ú–µ—Å—Ç–æ</label>
            <input type="text" name="location" placeholder="–î–µ—Ä–±–µ–Ω—Ç" />
          </div>
          <div class="form-group">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
            <select name="category"></select>
          </div>
          <div class="form-group full-width">
            <label>–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>
            <textarea name="description" rows="4"></textarea>
          </div>
          <div class="form-group full-width">
            <label>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
            <input type="text" name="schedule" placeholder="–ü–Ω, –°—Ä, –ü—Ç" />
          </div>
          <div class="form-group full-width">
            <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
            <div class="image-upload-area" id="tourImagesArea" onclick="document.getElementById('tourImages').click()">
              <div id="tourImagePreview"></div>
              <span style="font-size: 24px;">üì∑</span>
              <p>–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ</p>
            </div>
            <input type="file" id="tourImages" multiple accept="image/*" style="display: none;" />
          </div>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeTourModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Category Modal -->
  <div class="modal" id="categoryModal">
    <div class="modal-content" style="max-width: 400px;">
      <div class="modal-header">
        <h3>–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
        <button class="modal-close" onclick="closeCategoryModal()">&times;</button>
      </div>
      <form class="modal-form" id="categoryForm">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
          <input type="text" name="name" required placeholder="–≠–∫—Å–∫—É—Ä—Å–∏–∏" />
        </div>
        <div class="form-group">
          <label>–ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏)</label>
          <input type="text" name="icon" placeholder="üè∞" />
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeCategoryModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Guest Modal -->
  <div class="modal" id="guestModal">
    <div class="modal-content" style="max-width: 600px;">
      <div class="modal-header">
        <h3 id="guestModalTitle">–ó–∞—Å–µ–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è</h3>
        <button class="modal-close" onclick="closeGuestModal()">&times;</button>
      </div>
      <form class="modal-form" id="guestForm">
        <input type="hidden" name="id" />
        
        <div class="form-grid">
          <div class="form-group">
            <label>–§–∞–º–∏–ª–∏—è *</label>
            <input type="text" name="last_name" required placeholder="–ò–≤–∞–Ω–æ–≤" />
          </div>
          <div class="form-group">
            <label>–ò–º—è *</label>
            <input type="text" name="first_name" required placeholder="–ò–≤–∞–Ω" />
          </div>
          <div class="form-group">
            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" name="phone" placeholder="+7 (___) ___-__-__" />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" placeholder="email@example.com" />
          </div>
          <div class="form-group full-width">
            <label>–ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</label>
            <input type="text" name="passport" placeholder="–°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä" />
          </div>
          <div class="form-group">
            <label>–ù–æ–º–µ—Ä *</label>
            <select name="room_id" required></select>
          </div>
          <div class="form-group">
            <label>–ó–∞–µ–∑–¥ *</label>
            <input type="date" name="check_in_date" required />
          </div>
          <div class="form-group">
            <label>–í—ã–µ–∑–¥</label>
            <input type="date" name="check_out_date" />
          </div>
          <div class="form-group">
            <label>–ì–æ—Å—Ç–µ–π</label>
            <input type="number" name="guests_count" value="1" min="1" />
          </div>
          <div class="form-group full-width">
            <label>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
            <textarea name="notes" rows="3"></textarea>
          </div>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeGuestModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–ó–∞—Å–µ–ª–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Chessboard Modal -->
  <div class="modal" id="chessboardModal">
    <div class="modal-content" style="max-width: 500px;">
      <div class="modal-header">
        <h3>–ó–∞—Å–µ–ª–∏—Ç—å –≥–æ—Å—Ç—è</h3>
        <button class="modal-close" onclick="closeChessboardModal()">&times;</button>
      </div>
      <form class="modal-form" id="chessboardForm">
        <input type="hidden" name="check_in_date" id="chessboardCheckIn" />
        
        <div class="form-grid">
          <div class="form-group full-width">
            <label>–î–∞—Ç–∞ –∑–∞–µ–∑–¥–∞</label>
            <input type="date" id="chessboardCheckInDisplay" readonly style="background: var(--gray-lighter);" />
          </div>
          <div class="form-group full-width">
            <label>–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞ *</label>
            <input type="date" name="check_out_date" required id="chessboardCheckOut" />
          </div>
          <div class="form-group full-width">
            <label>–ù–æ–º–µ—Ä *</label>
            <select name="room_id" required id="chessboardRoomSelect"></select>
          </div>
          
          <div class="form-section-title">–ì–æ—Å—Ç—å 1</div>
          <div class="form-group">
            <label>–§–∞–º–∏–ª–∏—è *</label>
            <input type="text" name="last_name_1" required placeholder="–ò–≤–∞–Ω–æ–≤" />
          </div>
          <div class="form-group">
            <label>–ò–º—è *</label>
            <input type="text" name="first_name_1" required placeholder="–ò–≤–∞–Ω" />
          </div>
          <div class="form-group">
            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" name="phone_1" placeholder="+7..." />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email_1" placeholder="email@example.com" />
          </div>
          <div class="form-group full-width">
            <label>–ü–∞—Å–ø–æ—Ä—Ç</label>
            <input type="text" name="passport_1" placeholder="–°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä" />
          </div>
          
          <div class="form-group full-width" id="addGuest2Btn">
            <button type="button" class="btn btn-secondary" onclick="showGuest2Fields()" style="width: 100%;">+ –î–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–≥–æ –≥–æ—Å—Ç—è</button>
          </div>
          
          <div class="form-section-title" id="guest2Title" style="display: none;">–ì–æ—Å—Ç—å 2</div>
          <div class="form-group" id="guest2LastName" style="display: none;">
            <label>–§–∞–º–∏–ª–∏—è *</label>
            <input type="text" name="last_name_2" placeholder="–ü–µ—Ç—Ä–æ–≤" />
          </div>
          <div class="form-group" id="guest2FirstName" style="display: none;">
            <label>–ò–º—è *</label>
            <input type="text" name="first_name_2" placeholder="–ü–µ—Ç—Ä" />
          </div>
          <div class="form-group" id="guest2Phone" style="display: none;">
            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" name="phone_2" placeholder="+7..." />
          </div>
          <div class="form-group" id="guest2Email" style="display: none;">
            <label>Email</label>
            <input type="email" name="email_2" placeholder="email@example.com" />
          </div>
          <div class="form-group full-width" id="guest2Passport" style="display: none;">
            <label>–ü–∞—Å–ø–æ—Ä—Ç</label>
            <input type="text" name="passport_2" placeholder="–°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä" />
          </div>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeChessboardModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–ó–∞—Å–µ–ª–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Note Modal -->
  <div class="modal" id="noteModal">
    <div class="modal-content" style="max-width: 500px;">
      <div class="modal-header">
        <h3 id="noteModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</h3>
        <button class="modal-close" onclick="closeNoteModal()">&times;</button>
      </div>
      <form class="modal-form" id="noteForm">
        <input type="hidden" name="id" />
        
        <div class="form-group">
          <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫ *</label>
          <input type="text" name="title" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏" />
        </div>
        <div class="form-group">
          <label>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
          <textarea name="content" rows="4" placeholder="–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..."></textarea>
        </div>
        <div class="form-group">
          <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
          <select name="category">
            <option value="general">–û–±—â–µ–µ</option>
            <option value="booking">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</option>
            <option value="guests">–ì–æ—Å—Ç–∏</option>
            <option value="tasks">–ó–∞–¥–∞—á–∏</option>
            <option value="ideas">–ò–¥–µ–∏</option>
          </select>
        </div>
        <div class="form-group">
          <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
          <select name="priority">
            <option value="low">–ù–∏–∑–∫–∏–π</option>
            <option value="normal">–û–±—ã—á–Ω—ã–π</option>
            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
          </select>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeNoteModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
  <script src="/js/admin.js"></script>
</body>
</html>
